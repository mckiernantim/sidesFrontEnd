<main [@fadeInOut] class="last-looks-container h-screen">
  <div class="flex h-full">
    <!-- Document Viewer (Main Content) -->
    <div class="w-full flex flex-col overflow-hidden min-w-0 h-full">
      <!-- Pagination Controls - Moved here -->
      <div class="bg-white p-4 border-b border-gray-200">
        <div class="flex justify-between space-x-2">
          <button 
            class="flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"
            (click)="previousPage()" 
            [disabled]="currentPageIndex === 0">
            Previous
          </button>
          <div class="flex items-center justify-center px-4 text-gray-700 font-medium">
            Page {{currentPageIndex + 1}} of {{pages?.length || 0}}
          </div>
          <button 
            class="flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"
            (click)="nextPage()" 
            [disabled]="currentPageIndex === (pages?.length - 1)">
            Next
          </button>
        </div>
      </div>
      <div class="page-container h-full">
        <app-last-looks-page 
          [page]="currentPage"
          [canEditDocument]="canEditDocument"
          [selectedLine]="selectedLine"
          [currentPageIndex]="currentPageIndex"
          [totalPages]="pages.length"
          [editMode]="editState"
          (lineChanged)="handleLineChange($event)"
          (lineSelected)="handleLineSelected($event)"
          (categoryChanged)="handleCategoryChange($event)"
          (positionChanged)="handlePositionChange($event)"
          (pageUpdate)="handlePageUpdate($event)"
          (proceedToCheckout)="handleProceedToCheckout()"
          (toggleVisibilityRequest)="handleToggleVisibilityRequest()"
          (pageChange)="handlePageChange($event)">
        </app-last-looks-page>
      </div>
    </div>
  </div>

  <!-- Help Button -->
  <button class="help-button" (click)="toggleEditTooltip()">
    <i class="fas fa-question"></i>
  </button>

  <!-- Edit Functionality Tooltip -->
  <div class="edit-tooltip" *ngIf="showEditTooltip">
    <div class="tooltip-content">
      <h3 class="text-lg font-bold mb-2">Edit Functionality</h3>
      <ul class="space-y-2">
        <li><strong>Selection:</strong> Click to select, Ctrl/Cmd+Click for multi-select, Shift+Click for range</li>
        <li><strong>Edit Text:</strong> Double-click any line to edit</li>
        <li><strong>Move Lines:</strong> Click and drag selected lines</li>
        <li><strong>Change Category:</strong> Right-click for context menu</li>
        <li><strong>Edit Scene Numbers:</strong> Double-click scene numbers</li>
        <li><strong>Edit Bar Text:</strong> Double-click START/END/CONTINUE text</li>
        <li><strong>Toggle Visibility:</strong> Press 'X' key on selected lines</li>
      </ul>
      <button class="close-tooltip" (click)="toggleEditTooltip()">Ã—</button>
    </div>
  </div>
</main>
  
